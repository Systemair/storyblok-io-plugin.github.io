(window.webpackJsonp=window.webpackJsonp||[]).push([[8,6],{322:function(e,t,r){"use strict";r.r(t);r(36),r(28),r(51),r(33),r(52);var n=r(17),o=r(7),c=(r(42),r(8),r(20),r(158),r(225),r(43),r(29),r(100),r(65),r(69));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={props:["value"],data:function(){return{contentFolders:[],search:"",breadcrumbs:[],loadingContentFolder:!1}},mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loadingContentFolder=!0,e.$emit("input",{id:0,full_slug:""}),t.next=4,e.getContentFolder(0);case 4:e.contentFolders=t.sent,e.loadingContentFolder=!1;case 6:case"end":return t.stop()}}),t)})))()},computed:{contentFoldersFiltered:function(){var e=this;return this.contentFolders.filter((function(t){return t.label.toLowerCase().search(e.search)>-1}))}},methods:d(d({},Object(c.c)("storyblok",["components","searchStories"])),{},{onContentFolderSelected:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.search="",t.breadcrumbs.push(e),r.next=4,t.syncBreadcrumbs();case 4:case"end":return r.stop()}}),r)})))()},onNavigate:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.breadcrumbs=t.breadcrumbs.splice(0,e+1),r.next=3,t.syncBreadcrumbs();case 3:case"end":return r.stop()}}),r)})))()},onClearNavigation:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.breadcrumbs=[],t.next=3,e.syncBreadcrumbs();case 3:case"end":return t.stop()}}),t)})))()},getContentFolder:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t.searchStories({with_parent:e,folder_only:1}).then((function(e){return e.map((function(e){return{label:e.name,value:{id:e.id,slug:e.slug},isParent:!0}}))})));case 1:case"end":return r.stop()}}),r)})))()},syncBreadcrumbs:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loadingContentFolder=!0,r=e.breadcrumbs[e.breadcrumbs.length-1],t.next=4,e.getContentFolder(r?r.value.id:0);case 4:e.contentFolders=t.sent,e.loadingContentFolder=!1,e.$emit("input",{id:r?r.value.id:0,full_slug:e.breadcrumbs.map((function(e){return e.value.slug})).join("/")});case 7:case"end":return t.stop()}}),t)})))()},filterContentFolder:function(e){this.search=e.value.toLowerCase(),console.log(this.search)}})},m=r(78),component=Object(m.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("SbSelect",{attrs:{label:e.breadcrumbs.map((function(b){return b.label})).join("/")}},[r("SbMinibrowser",{staticStyle:{"background-color":"white"},attrs:{slot:"minibrowser",notFoundPrefix:"",options:e.contentFoldersFiltered,breadcrumbs:e.breadcrumbs,isExpanded:"",isLoading:e.loadingContentFolder},on:{filter:e.filterContentFolder,"select-item":e.onContentFolderSelected,navigate:e.onNavigate,"clear-navigation":e.onClearNavigation},slot:"minibrowser"})],1)}),[],!1,null,"1580b548",null);t.default=component.exports},326:function(e,t,r){var content=r(339);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(99).default)("2811bdd8",content,!0,{sourceMap:!1})},338:function(e,t,r){"use strict";r(326)},339:function(e,t,r){var n=r(98)(!1);n.push([e.i,".header[data-v-67b06472]{display:flex;flex-direction:row;align-items:center}.back-button[data-v-67b06472]:hover{background-color:rgba(0,0,0,.06275)}.back-button[data-v-67b06472]:active{background-color:rgba(0,0,0,.12549)}",""]),e.exports=n},425:function(e,t,r){"use strict";r.r(t);r(36),r(28),r(42),r(8),r(51),r(33),r(52);var n=r(17),o=r(69);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d={data:function(){return{}},computed:{contentFolder:{get:function(){return this.$store.state.import.contentFolder},set:function(e){this.$store.commit("import/setContentFolder",e)}},overwrite:{get:function(){return this.$store.state.import.overwrite},set:function(e){this.$store.commit("import/setOverwrite",e)}},excessStoryOption:{get:function(){return this.$store.state.import.excessStoryOption},set:function(e){this.$store.commit("import/setExcessStoryOption",e)}}},methods:l(l({},Object(o.e)("import",["setXlsxFile"])),{},{onFileSelected:function(e){this.setXlsxFile(e.target.files[0])}})},f=(r(338),r(78)),component=Object(f.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("SbCard",[r("SbCardHeader",{staticClass:"header"},[r("SbIcon",{staticClass:"back-button",attrs:{size:"large",name:"chevron-back"},on:{click:function(t){return e.$router.go(-1)}}}),e._v(" "),r("h3",[e._v("Import Data")])],1),e._v(" "),r("SbCardContent",[r("SbFormItem",{attrs:{label:"Import File","helper-icon-text":"Select an Excel spreadsheet file from your local file system to import."}},[r("input",{ref:"importFile",attrs:{type:"file",accept:".xlsx"},on:{change:e.onFileSelected}})]),e._v(" "),r("SbFormItem",{attrs:{label:"Destination Content Folder","helper-icon-text":"Select a root content folder where data should be imported into."}},[r("ContentFolderSelector",{model:{value:e.contentFolder,callback:function(t){e.contentFolder=t},expression:"contentFolder"}})],1),e._v(" "),r("SbFormItem",{attrs:{label:"Overwrite existing?","helper-icon-text":"Leave unchecked when only new records should get imported. Existing stories will stay untouched, even when the data in the spreadsheet is different from the data in Storyblok."}},[r("SbCheckbox",{attrs:{id:"overwirte",label:"Update existing stories with the data from the spreadsheet"},model:{value:e.overwrite,callback:function(t){e.overwrite=t},expression:"overwrite"}})],1),e._v(" "),r("SbFormItem",{attrs:{label:"Excess Stories","helper-icon-text":"What should happen with stories present in StoryBlok, but not in the provided Excel file?"}},[r("SbSelect",{staticStyle:{"max-width":"300px"},attrs:{label:"",options:[{label:"Do nothing",value:0},{label:"Unpublish",value:1},{label:"Delete",value:2}]},model:{value:e.excessStoryOption,callback:function(t){e.excessStoryOption=t},expression:"excessStoryOption"}})],1)],1),e._v(" "),r("SbCardFooter",[r("SbButton",{attrs:{isDisabled:void 0===e.$store.state.import.xlsxFile,label:"Map Columns"},on:{click:function(t){return e.$router.push({path:"/import/mapping"})}}})],1)],1)],1)}),[],!1,null,"67b06472",null);t.default=component.exports;installComponents(component,{ContentFolderSelector:r(322).default})}}]);